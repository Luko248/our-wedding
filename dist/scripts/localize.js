var d=s=>{let{langDirectory:l,defaultLanguage:u="en",langSwitch:m}=s,c=()=>{let t=localStorage.getItem("language")||navigator.language||navigator.userLanguage;document.documentElement.lang=t;let a=new URLSearchParams(window.location.search).get("lang");a&&(t=a,localStorage.setItem("language",a));let n=new XMLHttpRequest;n.open("GET",`${l}${t}.json`),n.onload=()=>{if(n.status===200){let e=JSON.parse(n.responseText);r(e)}else{let e=new XMLHttpRequest;e.open("GET",`${l}${u}.json`),e.onload=()=>{if(e.status===200){let i=JSON.parse(e.responseText);r(i)}},e.send()}},n.send()},r=t=>{document.querySelectorAll("[data-localize], [data-localize-placeholder], [data-localize-aria-label], [data-localize-title]").forEach(a=>{let n=a.getAttribute("data-localize"),e=a.getAttribute("data-localize-placeholder"),i=a.getAttribute("data-localize-aria-label"),g=a.getAttribute("data-localize-title");if(n&&t[n]){let h=a.tagName.toLowerCase();["title","aria-label","placeholder"].includes(h)?e?a.setAttribute("placeholder",t[e]):i?a.setAttribute("aria-label",t[i]):g&&a.setAttribute("title",t[g]):a.textContent=t[n]}})},L=t=>{localStorage.setItem("language",t);let o=new URLSearchParams(window.location.search);o.set("lang",t),window.history.replaceState({},"",`${window.location.pathname}?${o}`),document.documentElement.lang=t,c()},p=t=>{t&&t.addEventListener("click",o=>{if(o.target&&o.target.matches("button[data-lang]")){let a=o.target.getAttribute("data-lang");a&&L(a)}})};c(),p(m)};document.addEventListener("DOMContentLoaded",()=>{let l={langDirectory:"../texts/",defaultLanguage:"sk",langSwitch:document.querySelector(".lang-switch__pop-up")};d(l)});
//# sourceMappingURL=localize.js.map
