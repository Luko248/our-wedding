var g=s=>{let{langDirectory:l,defaultLanguage:i="en",langSwitch:d}=s,c=()=>{let t=localStorage.getItem("language")||navigator.language||navigator.userLanguage;document.documentElement.lang=t;let e=new URLSearchParams(window.location.search).get("lang");e&&(t=e,localStorage.setItem("language",e));let a=new XMLHttpRequest;a.open("GET",`${l}${t}.json`),a.onload=()=>{if(a.status===200){let o=JSON.parse(a.responseText);r(o)}else{let o=new XMLHttpRequest;o.open("GET",`${l}${i}.json`),o.onload=()=>{if(o.status===200){let L=JSON.parse(o.responseText);r(L)}},o.send()}},a.send()},r=t=>{document.querySelectorAll("[data-localize]").forEach(e=>{let a=e.getAttribute("data-localize");a&&t[a]&&(e.textContent=t[a])})},u=t=>{localStorage.setItem("language",t);let n=new URLSearchParams(window.location.search);n.set("lang",t),window.history.replaceState({},"",`${window.location.pathname}?${n}`),document.documentElement.lang=t,c()},m=t=>{t&&t.addEventListener("click",n=>{if(n.target&&n.target.matches("button[data-lang]")){let e=n.target.getAttribute("data-lang");e&&u(e)}})};c(),m(d)};document.addEventListener("DOMContentLoaded",()=>{let s=document.querySelector(".lang-switch__pop-up"),l=s.querySelectorAll("button");g({langDirectory:"../texts/",defaultLanguage:"sk",langSwitch:s})});
//# sourceMappingURL=localize.js.map
