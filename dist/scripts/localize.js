var u=c=>{let{langDirectory:l,defaultLanguage:m="en",langSwitch:p}=c,r=()=>{let t=localStorage.getItem("language")||navigator.language||navigator.userLanguage;document.documentElement.lang=t;let a=new URLSearchParams(window.location.search).get("lang");a&&(t=a,localStorage.setItem("language",a));let n=new XMLHttpRequest;n.open("GET",`${l}${t}.json`),n.onload=()=>{if(n.status===200){let e=JSON.parse(n.responseText);g(e)}else{let e=new XMLHttpRequest;e.open("GET",`${l}${m}.json`),e.onload=()=>{if(e.status===200){let i=JSON.parse(e.responseText);g(i)}},e.send()}},n.send()},g=t=>{document.querySelectorAll("[data-localize], [data-localize-placeholder], [data-localize-aria-label], [data-localize-title]").forEach(a=>{let n=a.getAttribute("data-localize"),e=a.getAttribute("data-localize-placeholder"),i=a.getAttribute("data-localize-aria-label"),d=a.getAttribute("data-localize-title");if(n&&t[n]){let s=a.tagName.toLowerCase();["title","aria-label","placeholder"].includes(s)?e&&s==="input"?a.placeholder=t[e]:i&&s==="input"?a.setAttribute("aria-label",t[i]):d&&a.setAttribute("title",t[d]):a.textContent=t[n]}})},L=t=>{localStorage.setItem("language",t);let o=new URLSearchParams(window.location.search);o.set("lang",t),window.history.replaceState({},"",`${window.location.pathname}?${o}`),document.documentElement.lang=t,r()},h=t=>{t&&t.addEventListener("click",o=>{if(o.target&&o.target.matches("button[data-lang]")){let a=o.target.getAttribute("data-lang");a&&L(a)}})};r(),h(p)};document.addEventListener("DOMContentLoaded",()=>{let l={langDirectory:"../texts/",defaultLanguage:"sk",langSwitch:document.querySelector(".lang-switch__pop-up")};u(l)});
//# sourceMappingURL=localize.js.map
