var d=l=>{let{langDirectory:i,defaultLanguage:g="en",langSwitch:s}=l,c=()=>{let t=localStorage.getItem("language")||navigator.language||navigator.userLanguage;document.documentElement.lang=t;let e=new URLSearchParams(window.location.search).get("lang");e&&(t=e,localStorage.setItem("language",e));let a=new XMLHttpRequest;a.open("GET",`${i}${t}.json`),a.onload=()=>{if(a.status===200){let o=JSON.parse(a.responseText);r(o)}else{let o=new XMLHttpRequest;o.open("GET",`${i}${g}.json`),o.onload=()=>{if(o.status===200){let L=JSON.parse(o.responseText);r(L)}},o.send()}},a.send()},r=t=>{document.querySelectorAll("[data-localize]").forEach(e=>{let a=e.getAttribute("data-localize");a&&t[a]&&(e.textContent=t[a])})},m=t=>{localStorage.setItem("language",t);let n=new URLSearchParams(window.location.search);n.set("lang",t),window.history.replaceState({},"",`${window.location.pathname}?${n}`),document.documentElement.lang=t,c()},u=t=>{t&&t.addEventListener("click",n=>{if(n.target&&n.target.matches("button[data-lang]")){let e=n.target.getAttribute("data-lang");e&&m(e)}})};c(),u(s)};document.addEventListener("DOMContentLoaded",()=>{let l=document.getElementById("langSwitch"),i=l.querySelectorAll("button"),g={langDirectory:"../texts/",defaultLanguage:"sk",langSwitch:l};i.forEach(s=>{s.addEventListener("click",()=>{let c=new URLSearchParams(window.location.search).get("lang"),r=s.getAttribute("data-lang");c===r?s.classList.add("active"):s.classList.remove("active")})}),d(g)});
//# sourceMappingURL=localize.js.map
