{
  "version": 3,
  "sources": ["../../node_modules/locale-essentials/index.ts", "../../scripts/localize.ts"],
  "sourcesContent": ["interface Translations {\r\n    [key: string]: string;\r\n}\r\n\r\ninterface LocalizeOptions {\r\n    langDirectory: string;\r\n    defaultLanguage?: string;\r\n    langSwitch?: HTMLElement;\r\n  }\r\n\r\n  export const localize = (options: LocalizeOptions): void => {\r\n    const { langDirectory, defaultLanguage = 'en', langSwitch } = options;\r\n  \r\n    const loadLocalization = (): void => {\r\n      let language = localStorage.getItem('language') || navigator.language || (navigator as any).userLanguage;\r\n      document.documentElement.lang = language;\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      const langParam = urlParams.get('lang');\r\n  \r\n      if (langParam) {\r\n        language = langParam;\r\n        localStorage.setItem('language', langParam);\r\n      }\r\n  \r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('GET', `${langDirectory}${language}.json`);\r\n      xhr.onload = (): void => {\r\n        if (xhr.status === 200) {\r\n          const translations: Translations = JSON.parse(xhr.responseText);\r\n          updateLocalization(translations);\r\n        } else {\r\n          const xhrDefault = new XMLHttpRequest();\r\n          xhrDefault.open('GET', `${langDirectory}${defaultLanguage}.json`);\r\n          xhrDefault.onload = (): void => {\r\n            if (xhrDefault.status === 200) {\r\n              const translations: Translations = JSON.parse(xhrDefault.responseText);\r\n              updateLocalization(translations);\r\n            }\r\n          };\r\n          xhrDefault.send();\r\n        }\r\n      };\r\n  \r\n      xhr.send();\r\n    };\r\n  \r\n    const updateLocalization = (translations: Translations): void => {\r\n      const localizedElements = document.querySelectorAll('[data-localize]');\r\n      localizedElements.forEach((element: Element) => {\r\n        const key = element.getAttribute('data-localize');\r\n        if (key && translations[key]) {\r\n          element.textContent = translations[key];\r\n        }\r\n      });\r\n    };\r\n  \r\n    const setLanguage = (language: string): void => {\r\n      localStorage.setItem('language', language);\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      urlParams.set('lang', language);\r\n      window.history.replaceState({}, '', `${window.location.pathname}?${urlParams}`);\r\n      document.documentElement.lang = language;\r\n      loadLocalization();\r\n    };\r\n  \r\n    const registerLangSwitchListener = (langSwitch?: HTMLElement): void => {\r\n      if (langSwitch) {\r\n        langSwitch.addEventListener('click', (e: Event) => {\r\n          if (e.target && (e.target as HTMLElement).matches('button[data-lang]')) {\r\n            const lang = (e.target as HTMLElement).getAttribute('data-lang');\r\n            if (lang) {\r\n              setLanguage(lang);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    };\r\n  \r\n    loadLocalization();\r\n    registerLangSwitchListener(langSwitch);\r\n  };\r\n  ", "import { localize } from 'locale-essentials';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n  const langSwitchElem = document.querySelector('.lang-switch__pop-up') as HTMLDivElement\r\n  const LangButtons = langSwitchElem.querySelectorAll('button') as NodeListOf<HTMLButtonElement>\r\n\r\n  const localizeOptions = {\r\n    langDirectory: '../texts/',\r\n    defaultLanguage: 'sk',\r\n    langSwitch: langSwitchElem\r\n  }\r\n  localize(localizeOptions)\r\n})"],
  "mappings": "AAUS,IAAMA,EAAYC,GAAmC,CAC1D,GAAM,CAAE,cAAAC,EAAe,gBAAAC,EAAkB,KAAM,WAAAC,CAAW,EAAIH,EAExDI,EAAmB,IAAY,CACnC,IAAIC,EAAW,aAAa,QAAQ,UAAU,GAAK,UAAU,UAAa,UAAkB,aAC5F,SAAS,gBAAgB,KAAOA,EAEhC,IAAMC,EADY,IAAI,gBAAgB,OAAO,SAAS,MAAM,EAChC,IAAI,MAAM,EAElCA,IACFD,EAAWC,EACX,aAAa,QAAQ,WAAYA,CAAS,GAG5C,IAAMC,EAAM,IAAI,eAChBA,EAAI,KAAK,MAAO,GAAGN,IAAgBI,QAAe,EAClDE,EAAI,OAAS,IAAY,CACvB,GAAIA,EAAI,SAAW,IAAK,CACtB,IAAMC,EAA6B,KAAK,MAAMD,EAAI,YAAY,EAC9DE,EAAmBD,CAAY,MAC1B,CACL,IAAME,EAAa,IAAI,eACvBA,EAAW,KAAK,MAAO,GAAGT,IAAgBC,QAAsB,EAChEQ,EAAW,OAAS,IAAY,CAC9B,GAAIA,EAAW,SAAW,IAAK,CAC7B,IAAMF,EAA6B,KAAK,MAAME,EAAW,YAAY,EACrED,EAAmBD,CAAY,EAEnC,EACAE,EAAW,KAAK,EAEpB,EAEAH,EAAI,KAAK,CACX,EAEME,EAAsBD,GAAqC,CACrC,SAAS,iBAAiB,iBAAiB,EACnD,QAASG,GAAqB,CAC9C,IAAMC,EAAMD,EAAQ,aAAa,eAAe,EAC5CC,GAAOJ,EAAaI,CAAG,IACzBD,EAAQ,YAAcH,EAAaI,CAAG,EAE1C,CAAC,CACH,EAEMC,EAAeR,GAA2B,CAC9C,aAAa,QAAQ,WAAYA,CAAQ,EACzC,IAAMS,EAAY,IAAI,gBAAgB,OAAO,SAAS,MAAM,EAC5DA,EAAU,IAAI,OAAQT,CAAQ,EAC9B,OAAO,QAAQ,aAAa,CAAC,EAAG,GAAI,GAAG,OAAO,SAAS,YAAYS,GAAW,EAC9E,SAAS,gBAAgB,KAAOT,EAChCD,EAAiB,CACnB,EAEMW,EAA8BZ,GAAmC,CACjEA,GACFA,EAAW,iBAAiB,QAAUa,GAAa,CACjD,GAAIA,EAAE,QAAWA,EAAE,OAAuB,QAAQ,mBAAmB,EAAG,CACtE,IAAMC,EAAQD,EAAE,OAAuB,aAAa,WAAW,EAC3DC,GACFJ,EAAYI,CAAI,EAGtB,CAAC,CAEL,EAEAb,EAAiB,EACjBW,EAA2BZ,CAAU,CACvC,EC9EF,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,IAAMe,EAAiB,SAAS,cAAc,sBAAsB,EAC9DC,EAAcD,EAAe,iBAAiB,QAAQ,EAO5DE,EALwB,CACtB,cAAe,YACf,gBAAiB,KACjB,WAAYF,CACd,CACwB,CAC1B,CAAC",
  "names": ["localize", "options", "langDirectory", "defaultLanguage", "langSwitch", "loadLocalization", "language", "langParam", "xhr", "translations", "updateLocalization", "xhrDefault", "element", "key", "setLanguage", "urlParams", "registerLangSwitchListener", "e", "lang", "langSwitchElem", "LangButtons", "localize"]
}
